#!/usr/bin/env perl
use strict;
use warnings;
use ListPod::App::Lite;
use Plack::Runner;
use Pod::Usage;
use Getopt::Long;

# init
Getopt::Long::Configure('pass_through');
my $cookie_file = '';
GetOptions("cookie=s" => \$cookie_file);
$cookie_file ||= $ENV{COOKIE_FILE};
warn "Cookie File: $cookie_file\n" if $cookie_file;
my $app = ListPod::App::Lite->new( cookie_file => $cookie_file );
my $runner = Plack::Runner->new;
$runner->parse_options(@ARGV);
$runner->run( $app->handler );

__END__

=head1 NAME

listpod-app-lite - Convert YouTube Playlist to Podcast feed. It is branche of listpod.tv.

=head1 SYNOPSIS

    $ listpod-app-lite

If YouTube return 402 Payment Required!!!

    $ listpod-app-lite -c safari_cookie_path( OSX only ...) -s AnyEvent

And enjoy your iTunes.

=cut
